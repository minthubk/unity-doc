! 曲線の編集 / Editing Curves

$$Curve$$ は様々なものに使用でき、編集できる曲線を使用する、Unity の各種コントロールがあります。

* [[AnimationEditorGuide| Animation View]] は、曲線を使用して、$$Animation Clip$$ で時間の経過と共に、プロパティをアニメート化します。\\
Attach:AnimationEditorCurve.png\\
''アニメーション ビュー''

* スクリプト コンポーネントは、様々なものに使用する [[EditingValueProperties40 | AnimationCurve]] タイプのメンバー変数を持つことができます。 インスペクタでこれらをクリックすると、$$Curve Editor$$ が開きます。\\
Attach:CurveEditorPopup.png\\
''曲線エディタ''

* [[class-AudioSource| Audio Source]] コンポーネントは、オーディオ ソースまでの距離の関数として、ロールオフやその他のプロパティを制御するため、曲線を使用します。\\
Attach:AudioSourceCurve.png\\
''インスペクタでのオーディオ ソース コンポーネントでの距離関数曲線。''


これらのコントロールには微妙に差があるため、$$curves$$ は、そのすべてにおいてまったく同じ方法で編集できます。 このページでは、これらのコントロールで曲線をナビゲートおよび編集できます。 

!! 曲線上でのキーの追加と移動

$$key$$ が置かれる点にある曲線をクリックすることで、$$key$$ を曲線に追加できます。 また、曲線を右クリックして、コンテキスト メニューから ^^Add Key^^ を選択することでも $$key$$ を追加できます。

一旦置くと、$$keys$$ をマウスでドラッグできるようになります。

* $$key$$ をクリックして選択します。 マウスで選択した $$key$$ をドラッグします。
* ドラッグ中、$$key$$ をグリッドにスナップするには、ドラッグ中に Mac の場合は ^^Command^^ / Windows の場合は、^^Control^^ を押したままにします。

また、複数の $$keys$$ を一度にドラッグすることもできます。

* 複数の $$keys$$ を一度に選択するには、^^Shift^^ を押しながら、キーをクリックします。
* 選択した $$key$$ を解除するには、^^Shift^^.を押したまま、再度キーをクリックします。
* 長方形のエリア内で、すべての $$keys$$ を選択するには、空白の点をクリックして、ドラッグし、長方形の選択エリアを形成します。
* ^^Shift^^ を押したままにすることで、既存の選択したキーに長方形の選択エリアを追加することも出来ます。

$$Keys$$ を選択して、^^Delete^^ を押すか、$$Keys$$ を右クリックし、コンテキスト メニューから ^^Delete Key^^ を選択することで、$$Keys$$ を削除できます。


!! 曲線ビューのナビゲート

$$Animation View$$ を扱う際に、作業したい曲線の詳細を拡大したり、縮小して全体像を表示することができます。

^^F^^ を押すことで、常に表示されている曲線や選択したキー全体をフレーム選択できます。

!!! 縮小拡大

マウスのスクロール ホイールやトラック パッドのズーム機能またはマウスで右ドラッグしながら、^^Alt^^ 押すことで、曲線ビューを ^^zoom^^ できます。 

水平または垂直軸でのみズームすることができます。

* ドラッグ中に Mac の場合は ^^Command^^ / Windows の場合は、^^Control^^ を押したままにして、^^zoom^^ することで、水平にズームできます。
* ^^Shift^^ を押したまま^^zoom^^ することで、垂直にズームできます。

さらに、スクロールバーの後端キャップをドラッグして、曲線ビューに表示されるエリアを縮小または拡大できます。

!!! パン

マウスで中央クリックするか、左ドラッグしながら、^^Alt^^ 押すことで、曲線ビューを ^^pan^^ できます。


!! 接線の編集

$$Key$$ には、2 本の $$Tangents$$ があり、1 本は入射勾配の左側、もう 1 本は出射勾配の右側にあります。 接線はキー間の曲線の形状を制御します。 $$Animation View$$ には、曲線の形状を簡単に制御するのに使用できる複数の種類の接線があります。 $$key$$ に対する接線のタイプは、キーを右クリックすることで選択できます。

Attach:AnimationTypeOfConnections2.png\\
''$$Key$$ を右クリックして、そのキーに対する接線のタイプを選択します。''

キーを置いた際にアニメート化値を円滑に変更するには、左右の接線が同一線上にある必要があります。 次の接線のタイプにより、円滑性が確保されます。
* ^^Auto^^: 接線が自動的に設定され、キーを通じて、曲線を円滑化します。\\
Attach:AnimationAuto.png
* ^^Free Smooth^^: 接線のハンドルをドラッグすることで、接線を自由に設定できます。 円滑性を確保するため、接線は同一線上に固定されます。.\\
Attach:AnimationFreeSmooth.png
* ^^Flat^^: 接線が水平に設定されます (これは、 ^^Free Smooth^^ の特殊なケースです。)\\
Attach:AnimationFlat.png

滑らかな接続が不要な場合があります。 接線が ^^Broken^^ の場合、左右の接線を個別に設定でいます。 左右の接線を次の接線タイプにそれぞれ設定できます。
* ^^Free^^: 接線のハンドルをドラッグすることで、接線を自由に設定できます。\\
Attach:AnimationBrokenFree.png
* ^^Linear^^: 接線は隣接するキーの方を向きます。 両端にある接線を ^^Linear^^ に設定することで、直線曲線成分を作成できます。 \\
Attach:AnimationBrokenLinear.png
* ^^Constant^^: 曲線は、2 つのキー間で一定の値を保ちます。 左キーの値は曲線線分を決定します。\\
Attach:AnimationBrokenConstant.png

