! オリジナルキャラクターを準備する / Preparing your own character

アニメーションつきのヒューマノイドキャラクターを一から作成するには主に3つのステップがあります：__モデリング__ 、 __リギング__ 、および __スキニング__ です。


!!モデリング
これは3D モデリング パッケージ、すなわち 3ds Max、 Maya、 Blender、その他、でオリジナルのヒューマノイド [[Meshes|メッシュ]] を作成するプロセスです。この作業自体が元来、別の独立したトピックですが、いくつかのガイドラインを遵守することでモデルがUnityプロジェクトのアニメーションで機能することを保証できます。

* __意味のある形状__ とします。メッシュが "意味のある" とは性質的にとらえにくいが、一般的には、モデルの頂点や三角がアニメーションされると歪むことを、頭に入れるべきです。悪い形状はモデルが動くことで明白にメッシュが歪みます。既存の3D キャラクターを学ぶことで、どのような形状にどうして形成されているのかが理解できます。
* メッシュの __スケール__ に神経を使います。インポートのテストを行って、インポートされたモデルを ""1メートルの大きさのキューブ" （標準的なUnityのプリミティブなキューブで各辺の長さが1単位の長さであるため、殆どの場合に1メートルのキューブとして考えて差支えがない）と比較して下さい。3Dパッケージで使用されている長さの単位を確認して、エクスポートした大きさがキューブと比べて釣り合うような大きさにします。注意しないとモデルのスケールをなんら意識することなく作成して、Unityにインポートしたときに不釣合いな大きさになることに気付くことになってしまいます。
* キャラクターの足がモデルの起点または "アンカー地点" に立っているようにします。キャラクターは一般に床に対して垂直なので、アンカーポイント（すなわち Transformの位置）が床に接しているほうが扱いが容易です。
* モデルを可能なかぎり __Tポーズ__ として下さい。これによって必要なときにポリゴン詳細を改良する余地（例えば、腕の下）があります。 さらにメッシュの中にリグを配置するのが楽です。

可能なかぎりで穴をふさぎ、頂点をまとめ、そして隠れてしまった面は取り除くことでスキニング、特に自動化されたスキニング プロセス、の手助けとなります。

Attach:SkinMesh256.png
スキンメッシュ - モデリングされ、テクスチャを張り、三角にしています

!!リギング

ジョイントのスケルトンを作成してモデルの動きを制御するプロセスです。

3Dパッケージによりヒューマノイド リグのジョイントを作成する方法が複数提供されています。これらの中は、メッシュに合わせてスケールできる既製品の二足歩行スケルトンから、オリジナルのボーン構造を作成するために個別のボーン作成および親子関係を行うツールまで範囲の幅があります。これはUnityの範疇ではありませんが、一般的なガイドラインはあります：
 既存のヒューマノイド スケルトンの階層（二足歩行）を学習し、できるかぎり、そういうボーン構造かそれに似せたものを使用します。* ヒップがスケルトン階層の親ボーンとします。
 最低でも15のボーンがスケルトンに必要です。
 ジョイント／ボーン階層は作成しようとするキャラクターにとって自然な構造とする必要があります。腕および脚は一対であるためネーミングもそれを反映すべきです（例えば左腕は "arm_L" 、右腕は "arm_R" 、等）。有りうる階層に含まれるものとして：

** ヒップ - 背骨 - 胸 - 肩 - 腕上部 - 腕 - 手
** ヒップ - 背骨 - 胸 - 首 - 頭
** ヒップ - 脚上部 - 脚 - 足 - 足指 - つま先

Attach:Skeleton256.png
''二足歩行スケルトン、T ポーズの姿勢''

!!スキニング


メッシュをスケルトンに紐付けるプロセスです。

スキニングはメッシュの頂点を、直接(Rigid Bind=柔軟でない紐付け)または複数のボーンのブレンドされた影響（Soft Bind=柔軟な紐付け）によって、ボーンに紐付けることが含まれます。異なるソフトウェアパッケージは異なる方法を採用しています（例えば、個別の頂点を割り当て、ボーンごとのメッシュの影響を重み付けする、など）。初期セットアップは一般的には自動化されていて、もっとも近い影響要素をみつけるか、または "ヒートマップ" を使用します。スキニングは通常、スキンの変形に満足できる結果を保証するためには多くのアニメーションにかかる作業量とテストを必要とします。一般的なガイドラインとしては:

* 最初は自動化されたプロセスを使用して、一部のスキニングをセットアップします（3dsMax、Maya、その他の関連チュートリアルを参照下さい）
* リグに簡単なアニメーション作成する、またはアニメーションデータをインポートする、といったことでスキニングのテストになります。これにより動作に合わせてスキニングの見栄えをクイックに評価することが出来ます。
* 編集を積み重ね、スキニングのソリューションを改良します。
* Soft Bindでは最大でも影響要素は4つ（Unityが扱える上限数）に抑えます。もし4つ以上の要素がメッシュに影響を与えると、Unityでアニメーションを再生したときに少なくとも一部の情報が失われます。

Attach:Skinning256.png
''インタラクティブなスキニングによる紐付け（Interactive Skin Bind）はスキニング手法のひとつです。''
