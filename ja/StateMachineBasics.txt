!ステートマシンの基本

ステートマシンの基本は、キャラクターがある時間行なう何かのアクションです。利用可能なアクションはゲームのタイプに依存しますが、典型的なアクションはアイドル、歩行、走行、ジャンプ、等です。これらは $$State$$ と呼ばれるアクションでキャラクターの状態を表します。一般的にキャラクターの次の状態には制約があり、どの状態からでも別へ遷移できるわけではありません。例えばランニング ジャンプは立っては出来ず、走っている必要があります。つまりアイドルからランニング ジャンプへと遷移することはありません。次の状態へと遷移する選択肢を $$State Transition$$ と呼ばれます。状態の一覧、遷移の一覧、さらに現在の状態を格納する変数を合わせて $$State Machine$$ を構成します。

ステートマシンの状態および遷移はグラフ ダイアグラムで表すことが出来て、ノードがステートを表し、弧（ノード間の矢印）が遷移を表します。現在の状態とはノードのどれかに印をつけたものと考えられ、次のノードへ移れるのは矢印に沿ってしか移動できません。

Attach:StateMachineDiagram.png

アニメーションのステートマシンで重要なことは設計および更新に伴うコーディングが僅かであることです。各々の状態にはモーションが紐付けられていて、マシンがその状態にあるときに再生されます。アニメータまたはデザイナーはキャラクターはコードを気にせずに、必要なアクションおよびアニメーションの順番を定義できます。

!!メカニム ステート マシン
メカニム のアニメーション ステート マシンにより特定キャラクターに関連したアニメーション クリップの全体像をみてゲームのイベント（例えばユーザ入力）により違うアニメーションをトリガーできます。

アニメーション ステート マシンは [[Animator|Animator Controller Window]] からセットアップすると次のように表示されます：

Attach:MecanimStateMachine.png

ステートマシンは $$State$$, $$Transition$$ および $$Event$$ から構成されて小さなサブ ステートマシンはさらに規模の大きなステートマシンで使用できます。
